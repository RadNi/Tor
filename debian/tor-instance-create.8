'\" t
.\"     Title: tor-instance-create
.\"    Author: Peter Palfrader
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 04/21/2018
.\"    Manual: Tor Manual
.\"    Source: Tor
.\"  Language: English
.\"
.TH "TOR\-INSTANCE\-CREAT" "8" "04/21/2018" "Tor" "Tor Manual"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
tor-instance-create \- Set up a new tor instance
.SH "SYNOPSIS"
.sp
\fBtor\-instance\-create\fR \fIinstance_name\fR
.SH "DESCRIPTION"
.sp
The Tor Debian package supports running multiple instances of the Tor daemon\&. This can be useful if you want to run multiple relays or bridge relays on a single system, of if you want to provide a hidden service in addition to running a relay\&.
.sp
\fBtor\-instance\-create\fR is the tool that creates a new instance of Tor on a Debian system\&. In particular, it creates a new UNIX user with a home directory and a mostly empty tor configuration file\&.
.sp
The new user and group are named \fB_tor\-\fR\fIinstance_name\fR\&. The user\(cqs home directory, which is also the DataDirectory of the new tor instance, is \fB/var/lib/tor\-instances/\fR\fIinstance_name\fR\&. The configuration file for that instance is \fB/etc/tor/instances/\fR\fIinstance_name\fR\fB/torrc\fR\&. Logs go to syslog by default\&.
.sp
To start this new service, use \fBsystemctl start tor@\fR\fIinstance_name\fR\&. Stopping, restarting, and reloading the config works accordingly\&. Stopping/Starting/\&.\&. the \fBtor\fR service should affect all instances\&. The "main" instance which lives in /var/lib/tor and has /etc/tor/torrc as its configuration file is known to systemd as \fBtor@default\fR\&.
.sp
There currently is no \fBtor\-instance\-remove\fR script\&. To remove an instance, delete the user and its homedirectory once you are convinced there are no files or processes on your system still owned by that user\&. Then also remove the corresponding directory tree in /etc/tor/instances\&.
.SH "SEE ALSO"
.sp
\fBtor\fR(1)
.SH "AUTHORS"
.sp
.if n \{\
.RS 4
.\}
.nf
Peter Palfrader
.fi
.if n \{\
.RE
.\}
.SH "AUTHOR"
.PP
\fBPeter Palfrader\fR
.RS 4
Author.
.RE
